import{d as B,l as S,r as u,c as o,o as a,a as b,u as z,h as C,w as _,b as p,e,t as n,F as x,g as y,f as r,n as j,T as D,i as E,v as V,j as q}from"./app-DfWbVRow.js";import{_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-bBoUAg8y.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ru2W6c0W.js";import"./useForwardExpose--m3SejOc.js";import"./VisuallyHidden-qbW0b0gR.js";const P={key:0,class:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded shadow-lg z-50 transition"},A={key:1,class:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded shadow-lg z-50 transition"},H={class:"mb-4 flex space-x-2 text-sm text-gray-500"},K=["href"],O={key:0},R={key:2,class:"space-y-4"},X={class:"container mx-auto px-4 py-8 max-w-6xl"},G={class:"bg-white rounded-xl shadow-md overflow-hidden"},U={class:"p-6"},Y={class:"relative overflow-x-auto responsive-table"},$={class:"w-full text-sm text-left text-gray-500"},J={id:"folderTable"},Q={class:"px-6 py-4 flex items-center"},W={class:"px-6 py-4"},Z={class:"px-6 py-4"},ee={class:"flex justify-between items-center mt-4 text-sm text-gray-600"},te={id:"showingStart"},se={id:"showingEnd"},oe={id:"totalItems"},ae={class:"flex justify-end space-x-2"},le=["href","innerHTML"],re={key:3,class:"text-gray-500"},ne={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ie={class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full"},de={class:"mb-4"},ce=B({__name:"Index",props:{folders:{}},setup(w){const m=[{title:"Papkalar",href:"/folders"}];function k(l){if(l===0)return"0 B";const t=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,s)).toFixed(2)+" "+t[s]}const i=w;S().props.auth.user;const g=u(!1),d=u(""),c=u(""),f=u("");function T(){g.value=!0}function h(){g.value=!1,d.value=""}function M(l){c.value=l,setTimeout(()=>c.value="",5e3)}function F(l){f.value=l,setTimeout(()=>f.value="",5e3)}function N(){const l=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");q.post("/folders",{name:d.value},{headers:{"X-CSRF-TOKEN":l}}).then(t=>{i.folders.data.push(t.data.data),h(),M(t.data.message||"Papka muvaffaqiyatli yaratildi!")}).catch(t=>{F(t.response?.data?.message||"Xatolik: papka yaratilmagan!"),console.error("Error creating folder:",t)}),d.value="",h()}return(l,t)=>(a(),o(x,null,[b(z(C),{title:"Folders"}),b(I,{breadcrumbs:m},{default:_(()=>[c.value?(a(),o("div",P,n(c.value),1)):p("",!0),f.value?(a(),o("div",A,n(f.value),1)):p("",!0),e("nav",H,[(a(),o(x,null,y(m,(s,v)=>e("span",{key:v},[e("a",{href:s.href,class:"hover:underline"},n(s.title),9,K),v<m.length-1?(a(),o("span",O,"/")):p("",!0)])),64))]),e("div",null,[e("button",{onClick:T,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors"},t[1]||(t[1]=[e("i",{class:"fas fa-plus mr-2"},null,-1),r(" New Folder ",-1)]))]),i.folders.data.length>0?(a(),o("div",R,[e("div",X,[e("div",G,[e("div",U,[t[10]||(t[10]=e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"Folder Manager")],-1)),e("div",Y,[e("table",$,[t[5]||(t[5]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(0)"},[e("div",{class:"flex items-center"},[r(" Name "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(1)"},[e("div",{class:"flex items-center"},[r(" Date Modified "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(2)"},[e("div",{class:"flex items-center"},[r(" Type "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(3)"},[e("div",{class:"flex items-center"},[r(" Size "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3"}," Actions ")])],-1)),e("tbody",J,[(a(!0),o(x,null,y(i.folders.data,s=>(a(),o("tr",{key:s.id,class:"folder-row hover:bg-gray-50 transition-colors"},[e("td",Q,[t[2]||(t[2]=e("i",{class:"fas fa-folder folder-icon mr-2 text-yellow-500"},null,-1)),r(" "+n(s.name),1)]),e("td",W,n(new Date(s.created_at).toLocaleDateString()),1),t[3]||(t[3]=e("td",{class:"px-6 py-4"},"Folder",-1)),e("td",Z,n(k(s.size)),1),t[4]||(t[4]=e("td",{class:"px-6 py-4"},[e("div",{class:"flex space-x-2"},[e("button",{class:"text-blue-500 hover:text-blue-700",title:"Open"},[e("i",{class:"fas fa-folder-open"})]),e("button",{class:"text-green-500 hover:text-green-700",title:"Share"},[e("i",{class:"fas fa-share-alt"})]),e("button",{class:"text-red-500 hover:text-red-700",title:"Delete"},[e("i",{class:"fas fa-trash-alt"})])])],-1))]))),128))])])]),e("div",ee,[e("div",null,[t[6]||(t[6]=r("Showing ",-1)),e("span",te,n(i.folders.from),1),t[7]||(t[7]=r(" to ",-1)),e("span",se,n(i.folders.to),1),t[8]||(t[8]=r(" of ",-1)),e("span",oe,n(i.folders.total),1),t[9]||(t[9]=r(" folders",-1))]),e("div",ae,[(a(!0),o(x,null,y(i.folders.links,s=>(a(),o("div",{class:"flex space-x-2",key:s.label},[e("a",{href:s.url||"#",class:j(["px-3 py-1 border rounded-md",s.active?"bg-blue-500 text-white":"bg-white text-blue-500 hover:bg-gray-100",s.url?"":"pointer-events-none opacity-50"]),innerHTML:s.label},null,10,le)]))),128))])])])])])])):(a(),o("p",re,"No folders found.")),b(D,{name:"modal"},{default:_(()=>[g.value?(a(),o("div",ne,[e("div",ie,[t[12]||(t[12]=e("h2",{class:"text-lg font-semibold mb-4"},"Yangi papka yaratish",-1)),e("div",de,[t[11]||(t[11]=e("label",{for:"folderName",class:"block text-sm font-medium text-gray-700 mb-2"},"Papka nomi",-1)),E(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",id:"folderName",class:"border border-gray-300 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter folder name"},null,512),[[V,d.value]])]),e("div",{class:"flex justify-end space-x-2"},[e("button",{onClick:h,class:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Bekor qilish "),e("button",{onClick:N,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"}," Saqlash ")])])])):p("",!0)]),_:1})]),_:1})],64))}}),he=L(ce,[["__scopeId","data-v-fa5626d9"]]);export{he as default};
