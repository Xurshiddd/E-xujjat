import{d as u,r as f,c as l,o as r,a as n,u as m,h as y,w as _,e as t,f as g,b as d,F as c,g as v,t as a,j as b}from"./app-t1hFasqC.js";import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-DRGrYa5k.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-WQcd9ENm.js";import"./useForwardExpose-BiSBS3b4.js";import"./VisuallyHidden-DLgn2Ija.js";const k={class:"container mx-auto px-4 py-8 max-w-6xl"},A={class:"bg-white rounded-xl shadow-md overflow-hidden"},C={class:"p-6"},N={class:"relative overflow-x-auto responsive-table"},D={class:"w-full text-sm text-left text-gray-500"},F={class:"px-6 py-4"},K={class:"px-6 py-4"},S={class:"px-6 py-4"},V={class:"px-6 py-4"},$={class:"px-6 py-4"},B={class:"px-6 py-4"},E={class:"px-6 py-4"},j=["href"],z=["onClick"],L=["href"],O={key:0,class:"text-gray-500 text-center py-8"},X=u({__name:"Index",props:{archives:{}},setup(x){const i=x;f(i.archives);function p(o){b.delete(`/archives/${o}`,{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")}}).then(()=>{window.location.reload()}).catch(e=>{console.error("Arxiv o'chirishda xato:",e),alert("Arxiv o'chirishda xato yuz berdi.")})}function h(o){confirm("Arxivni o‘chirishga ishonchingiz komilmi?")&&p(o)}return(o,e)=>(r(),l(c,null,[n(m(y),{title:"Arxivlar"}),n(w,null,{default:_(()=>[t("div",k,[e[4]||(e[4]=t("div",{class:"flex justify-between items-center mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-800"},"Arxivlar ro‘yxati"),t("a",{href:"/archives/create",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors"},[t("i",{class:"fas fa-plus mr-2"}),g(" Yangi arxiv ")])],-1)),t("div",A,[t("div",C,[t("div",N,[t("table",D,[e[3]||(e[3]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Nomi"),t("th",{class:"px-6 py-3"},"Kod"),t("th",{class:"px-6 py-3"},"Kategoriya"),t("th",{class:"px-6 py-3"},"Papka"),t("th",{class:"px-6 py-3"},"Foydalanuvchi"),t("th",{class:"px-6 py-3"},"Yaratilgan sana"),t("th",{class:"px-6 py-3"},"Amallar")])],-1)),t("tbody",null,[(r(!0),l(c,null,v(i.archives,s=>(r(),l("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[t("td",F,a(s.name.substring(0,50)),1),t("td",K,a(s.code),1),t("td",S,a(s.category?.name||"-"),1),t("td",V,a(s.folder?.name||"-"),1),t("td",$,a(s.user?.name||"-"),1),t("td",B,a(new Date(s.created_at).toLocaleDateString()),1),t("td",E,[s.file?(r(),l("a",{key:0,href:`/storage/${s.file?.path}`,class:"text-blue-500 hover:text-blue-700 mr-2",title:"Ko‘rish",target:"_blank"},e[0]||(e[0]=[t("i",{class:"fas fa-eye"},null,-1)]),8,j)):d("",!0),t("button",{class:"text-red-500 hover:text-red-700",onClick:T=>h(s.id),title:"O‘chirish"},e[1]||(e[1]=[t("i",{class:"fas fa-trash"},null,-1)]),8,z),t("a",{href:o.route("archives.edit",s.id),class:"text-yellow-500 hover:text-yellow-700 ml-3",title:"Edit"},e[2]||(e[2]=[t("i",{class:"fas fa-edit"},null,-1)]),8,L)])]))),128))])]),i.archives.length===0?(r(),l("div",O," Arxivlar topilmadi. ")):d("",!0)])])])])]),_:1})],64))}});export{X as default};
