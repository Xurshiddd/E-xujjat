import{d as F,f as S,r as u,c as o,o as a,e as y,u as C,h as j,w as _,g as p,b as e,t as r,F as x,i as h,j as l,n as D,T as E,k as z,v as V,l as q}from"./app-BrSLTPAy.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-CGk4NYBx.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B-HsArpM.js";import"./useForwardExpose-CoZ3qaiv.js";import"./VisuallyHidden-BAIvu8u1.js";const L={key:0,class:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded shadow-lg z-50 transition"},P={key:1,class:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded shadow-lg z-50 transition"},A={class:"mb-4 flex space-x-2 text-sm text-gray-500"},H=["href"],O={key:0},R={key:2,class:"space-y-4"},X={class:"container mx-auto px-4 py-8 max-w-6xl"},K={class:"bg-white rounded-xl shadow-md overflow-hidden"},U={class:"p-6"},Y={class:"relative overflow-x-auto responsive-table"},$={class:"w-full text-sm text-left text-gray-500"},G={id:"folderTable"},J={class:"px-6 py-4 flex items-center"},Q={class:"px-6 py-4"},W={class:"flex justify-between items-center mt-4 text-sm text-gray-600"},Z={id:"showingStart"},ee={id:"showingEnd"},te={id:"totalItems"},se={class:"flex justify-end space-x-2"},oe=["href","innerHTML"],ae={key:3,class:"text-gray-500"},le={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},re={class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full"},ne={class:"mb-4"},ie=F({__name:"Index",props:{folders:{}},setup(w){const m=[{title:"Papkalar",href:"/folders"}],n=w;S().props.auth.user;const g=u(!1),d=u(""),c=u(""),f=u("");function k(){g.value=!0}function b(){g.value=!1,d.value=""}function T(i){c.value=i,setTimeout(()=>c.value="",5e3)}function N(i){f.value=i,setTimeout(()=>f.value="",5e3)}function M(){const i=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");q.post("/folders",{name:d.value},{headers:{"X-CSRF-TOKEN":i}}).then(t=>{n.folders.data.push(t.data.data),b(),T(t.data.message||"Papka muvaffaqiyatli yaratildi!")}).catch(t=>{N(t.response?.data?.message||"Xatolik: papka yaratilmagan!"),console.error("Error creating folder:",t)}),d.value="",b()}return(i,t)=>(a(),o(x,null,[y(C(j),{title:"Folders"}),y(B,{breadcrumbs:m},{default:_(()=>[c.value?(a(),o("div",L,r(c.value),1)):p("",!0),f.value?(a(),o("div",P,r(f.value),1)):p("",!0),e("nav",A,[(a(),o(x,null,h(m,(s,v)=>e("span",{key:v},[e("a",{href:s.href,class:"hover:underline"},r(s.title),9,H),v<m.length-1?(a(),o("span",O,"/")):p("",!0)])),64))]),n.folders.data.length>0?(a(),o("div",R,[e("div",X,[e("div",K,[e("div",U,[e("div",{class:"flex justify-between items-center mb-6"},[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold text-gray-800"},"Folder Manager",-1)),e("button",{onClick:k,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors"},t[1]||(t[1]=[e("i",{class:"fas fa-plus mr-2"},null,-1),l(" New Folder ",-1)]))]),e("div",Y,[e("table",$,[t[7]||(t[7]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(0)"},[e("div",{class:"flex items-center"},[l(" Name "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(1)"},[e("div",{class:"flex items-center"},[l(" Date Modified "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(2)"},[e("div",{class:"flex items-center"},[l(" Type "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3 sortable",onclick:"sortTable(3)"},[e("div",{class:"flex items-center"},[l(" Size "),e("i",{class:"fas fa-sort ml-2 text-gray-400"})])]),e("th",{scope:"col",class:"px-6 py-3"}," Actions ")])],-1)),e("tbody",G,[(a(!0),o(x,null,h(n.folders.data,s=>(a(),o("tr",{key:s.id,class:"folder-row hover:bg-gray-50 transition-colors"},[e("td",J,[t[3]||(t[3]=e("i",{class:"fas fa-folder folder-icon mr-2 text-yellow-500"},null,-1)),l(" "+r(s.name),1)]),e("td",Q,r(new Date(s.created_at).toLocaleDateString()),1),t[4]||(t[4]=e("td",{class:"px-6 py-4"},"Folder",-1)),t[5]||(t[5]=e("td",{class:"px-6 py-4"},"N/A",-1)),t[6]||(t[6]=e("td",{class:"px-6 py-4"},[e("div",{class:"flex space-x-2"},[e("button",{class:"text-blue-500 hover:text-blue-700",title:"Open"},[e("i",{class:"fas fa-folder-open"})]),e("button",{class:"text-green-500 hover:text-green-700",title:"Share"},[e("i",{class:"fas fa-share-alt"})]),e("button",{class:"text-red-500 hover:text-red-700",title:"Delete"},[e("i",{class:"fas fa-trash-alt"})])])],-1))]))),128))])])]),e("div",W,[e("div",null,[t[8]||(t[8]=l("Showing ",-1)),e("span",Z,r(n.folders.from),1),t[9]||(t[9]=l(" to ",-1)),e("span",ee,r(n.folders.to),1),t[10]||(t[10]=l(" of ",-1)),e("span",te,r(n.folders.total),1),t[11]||(t[11]=l(" folders",-1))]),e("div",se,[(a(!0),o(x,null,h(n.folders.links,s=>(a(),o("div",{class:"flex space-x-2",key:s.label},[e("a",{href:s.url||"#",class:D(["px-3 py-1 border rounded-md",s.active?"bg-blue-500 text-white":"bg-white text-blue-500 hover:bg-gray-100",s.url?"":"pointer-events-none opacity-50"]),innerHTML:s.label},null,10,oe)]))),128))])])])])])])):(a(),o("p",ae,"No folders found.")),y(E,{name:"modal"},{default:_(()=>[g.value?(a(),o("div",le,[e("div",re,[t[13]||(t[13]=e("h2",{class:"text-lg font-semibold mb-4"},"Yangi papka yaratish",-1)),e("div",ne,[t[12]||(t[12]=e("label",{for:"folderName",class:"block text-sm font-medium text-gray-700 mb-2"},"Papka nomi",-1)),z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",id:"folderName",class:"border border-gray-300 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter folder name"},null,512),[[V,d.value]])]),e("div",{class:"flex justify-end space-x-2"},[e("button",{onClick:b,class:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Bekor qilish "),e("button",{onClick:M,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"}," Saqlash ")])])])):p("",!0)]),_:1})]),_:1})],64))}}),me=I(ie,[["__scopeId","data-v-5c92776b"]]);export{me as default};
